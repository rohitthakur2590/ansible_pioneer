{% extends "layout.html" %}
{% block content %}
<br>
<br>

<style>
body {font-family: Arial;}

/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  /* background-color: #f1f1f1; */
  background-color: #04A977;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
</style>




<div class="container">
  <h1 style="text-align:center">Network BGP Application</h1>
  <p class="lead">This GUI uses Ansible Collection <a href="https://github.com/ansible-network/network.bgp"> network.bgp</a> that provides a single platform-agnostics entry point to manage all the BGP network resources </p>
</div>

<div class="container">
<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'London')">Health Check</button>
  <button class="tablinks" onclick="openCity(event, 'Paris')">Gather</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">Persist</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">Troubleshoot</button>
</div>
<div id="London" class="tabcontent">
  <h4>BGP Health Check </h4>
  <form role="form" action="{{uri}}" name="inputs" method="post" class="">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="control-label">All Neighbors Up</label>
            <input type="checkbox"  id="all_up" name="all_up" value="all_neighbors_up">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="control-label">All Neighbors Down</label>
            <input type="checkbox"  id="all_down" name="all_down" value="all_neighbors_down">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label class="control-label">Minimum Neighbors Up</label>
            <input type="checkbox"  id="min_up" name="min_up" value="min_neighbors_up">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label class="control-label">Detailed Output</label>
            <input type="checkbox"  id="detail" name="detail" value="detailed">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group">
          <label class="control-label">Minimum Neighbors Count</label>
          <input type="number" id="quantity" name="quantity" min="1" max="500">
        </div>
      </div>
      <div class="row">
        <div class="col-md-11">
          <div class="panel">
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="form-group">
      </div>
      <div class="row">
        <div class="col-md-12">
          <button type="submit" name="submit" value="generate" class="btn btn-primary">Run</button>
          <button type="submit" name="submit" value="reset" class="btn">Reset</button>
        </div>
      </div>
      <div class="container">
      <br />
      <div class="row">
        <div class="col-md-11">
          <label class="control-label crsa-selected">Output</label>
          <pre>
                <code class="language-{{language}}">
                 <script>


                    var source = new EventSource("/rmb");
                    source.onmessage = function(event) {
                        document.getElementById("res").innerHTML += event.data + "<br/>"
                    }
                                      var source = new EventSource("/rmb");
                    source.onmessage = function(event) {
                        document.getElementById("res").innerHTML += event.data + "<br/>"
                    }
                  </script>
                </code>
              </pre>
        </div>
      </div>
    </div>
    </div>

  </form>
  <p>London is the capital city of England.</p>
</div>

</div>

<div id="Paris" class="tabcontent">
  <h3>Paris</h3>
  <p>Paris is the capital of France.</p>
</div>

<div id="Tokyo" class="tabcontent">
  <h3>Tokyo</h3>
  <p>Tokyo is the capital of Japan.</p>
</div>





  <!-- Modal -->
</div>

<!-- /.container -->
<!-- Bootstrap core JavaScript
 ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="static/js/prism.js"></script>
<script src="static/assets/js/jquery.min.js"></script>
<script src="static/bootstrap/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="static/assets/js/ie10-viewport-bug-workaround.js"></script>
<script>
       (function() {
   var button=document.getElementById("add-user");
   button.addEventListener('click', function(event) {
      event.preventDefault();
      var cln = document.getElementsByClassName("user")[0].cloneNode(true);
      document.getElementById("users").insertBefore(cln,this);
      return false;
   });
})();
      $(document).ready(function(){
      $("#example").click(function(){
      $("#exampleModal").modal("toggle");

       <!-- find the radio button that is active -->
      var ncOper=$('input[name="oper"]:checked').val();
      <!-- if (window.console) console.log("Operation:" + ncOper); -->

      <!-- find the snippets that is active -->
      var data = {{ snippets | tojson }};
      <!-- if (window.console) console.log("snippets:" + data[ncOper]); -->


      $("#exampleModal .modal-title").html("Sample Playbook")

      <!-- generate dynamic modal depending on snippets -->
      var body="";
      $.each(data[ncOper], function(index, value) {
          <!-- clean out eascape chars -->
           var cleaned = $('<div/>').text(value).html()

           body +='<pre onclick="inject_snippet(this)" data-dismiss="modal"><code>' + cleaned + '</code></pre>';
      });
      <!-- if (window.console) console.log("body" + body); -->
      $("#exampleModal .modal-body").html(body)
      });
      });

      function toggleModal() {

      $("#exampleModal").modal("toggle");
      }

      function inject_snippet(preobj) {
      document.inputs.xml.value = preobj.firstChild.innerText;
      }

    </script>

<script>
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script>
{% endblock content %}
